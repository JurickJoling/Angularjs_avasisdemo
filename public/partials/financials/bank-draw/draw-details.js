app.controller('BankDrawDrawDetailsCtrl',
    ['$scope', '$state', '$filter', function ($scope, $state, $filter) {
        $scope.$parent.setCurrentStep($state.current.name);
        $scope.numberToCurrency = function(val) {
            if (val == null)
                return '-';
            else
                return $filter('currency')(val);
        }
        $scope.drawDetails = [
            {description: 'Plans', scheduled_value: 1000, reallocations: 1272.85, updated_budget: 2272.85, disbursed_to_date: 2272.85, this_draw: null, pecent_of_drawn: 100, balance_to_complete: 0},
            {description: 'Engineering', scheduled_value: 800, reallocations: 57.5, updated_budget: 857.5, disbursed_to_date: 857.5, this_draw: null, pecent_of_drawn: 100, balance_to_complete: 0},
            {description: 'Project Manager', scheduled_value: 30000, reallocations: null, updated_budget: 30000, disbursed_to_date: 15000, this_draw: 2500, pecent_of_drawn: 58.33, balance_to_complete: 12500},
            {description: 'Superintendent', scheduled_value: 60000, reallocations: null, updated_budget: 60000, disbursed_to_date: 30000, this_draw: 5000, pecent_of_drawn: 58.33, balance_to_complete: 25000},
            {description: 'General Labor', scheduled_value: 10000, reallocations: null, updated_budget: 10000, disbursed_to_date: 4000, this_draw: 1000, pecent_of_drawn: 50, balance_to_complete: 5000},
            {description: 'Waste Disposal', scheduled_value: 8500, reallocations: null, updated_budget: 8500, disbursed_to_date: 459.91, this_draw: 615.9, pecent_of_drawn: 12.65, balance_to_complete: 7424.19},
            {description: 'Temp Sanitary Facility', scheduled_value: 2000, reallocations: null, updated_budget: 2000, disbursed_to_date: 1135.82, this_draw: 603.65, pecent_of_drawn: 86.9735, balance_to_complete: 260.53},
            {description: 'TempOffice', scheduled_value: 2000, reallocations: null, updated_budget: 2000, disbursed_to_date: 1635.55, this_draw: 516, pecent_of_drawn: 107.5775, balance_to_complete: -151.55},
            {description: 'Temp Heat', scheduled_value: 3500, reallocations: null, updated_budget: 3500, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 3500},
            {description: 'Temp Water', scheduled_value: 1000, reallocations: null, updated_budget: 1000, disbursed_to_date: null, this_draw: 213.64, pecent_of_drawn: 21.364, balance_to_complete: 786.36},
            {description: 'Temp Power', scheduled_value: 2000, reallocations: null, updated_budget: 2000, disbursed_to_date: 64.92, this_draw: null, pecent_of_drawn: 3.246, balance_to_complete: 1935.08},
            {description: 'Rental Equipment', scheduled_value: 8500, reallocations: null, updated_budget: 8500, disbursed_to_date: 8510.23, this_draw: null, pecent_of_drawn: 100.12, balance_to_complete: -10.22},
            {description: 'Cold Weather Protection', scheduled_value: 10000, reallocations: null, updated_budget: 10000, disbursed_to_date: 687.02, this_draw: null, pecent_of_drawn: 6.8702, balance_to_complete: 9312.98},
            {description: 'Survey / Layout', scheduled_value: 2500, reallocations: null, updated_budget: 2500, disbursed_to_date: 1320.49, this_draw: null, pecent_of_drawn: 52.8196, balance_to_complete: 1179.51},
            {description: 'Testing', scheduled_value: 1000, reallocations: null, updated_budget: 1000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 1000},
            {description: 'Small tools', scheduled_value: 1500, reallocations: null, updated_budget: 1500, disbursed_to_date: null, this_draw: 853.75, pecent_of_drawn: 56.91, balance_to_complete: 646.25},
            {description: 'Snow Removal', scheduled_value: 5000, reallocations: null, updated_budget: 5000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 5000},
            {description: 'Final Construction Clean Up', scheduled_value: 10000, reallocations: null, updated_budget: 10000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 10000},
            {description: 'Crane', scheduled_value: 6500, reallocations: null, updated_budget: 6500, disbursed_to_date: 1492.48, this_draw: 1134.35, pecent_of_drawn: 40.41, balance_to_complete: 3873.17},
            {description: 'Material Handling', scheduled_value: 8000, reallocations: null, updated_budget: 8000, disbursed_to_date: 178.16, this_draw: 99.58, pecent_of_drawn: 3.47175, balance_to_complete: 7722.26},
            {description: 'Project Materials', scheduled_value: 10000, reallocations: null, updated_budget: 10000, disbursed_to_date: 278.25, this_draw: 412.62, pecent_of_drawn: 6.9087, balance_to_complete: 9309.13},
            {description: 'LOD Fence', scheduled_value: 1500, reallocations: null, updated_budget: 1500, disbursed_to_date: 1500, this_draw: null, pecent_of_drawn: 100, balance_to_complete: 0},
            {description: 'Excavation', scheduled_value: 55000, reallocations: null, updated_budget: 55000, disbursed_to_date: 55000, this_draw: null, pecent_of_drawn: 100, balance_to_complete: 0},
            {description: 'Engineered Fill', scheduled_value: 5000, reallocations: 10000, updated_budget: 15000, disbursed_to_date: 13137, this_draw: null, pecent_of_drawn: 87.58, balance_to_complete: 1863},
            {description: 'Import', scheduled_value: 5000, reallocations: null, updated_budget: 5000, disbursed_to_date: 3197.44, this_draw: null, pecent_of_drawn: 63.9488, balance_to_complete: 1802.56},
            {description: 'Export', scheduled_value: 10000, reallocations: null, updated_budget: 10000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 10000},
            {description: 'Rock Walls', scheduled_value: 25000, reallocations: null, updated_budget: 25000, disbursed_to_date: 4462.5, this_draw: null, pecent_of_drawn: 17.85, balance_to_complete: 20537.5},
            {description: 'Sewer Vault / Pump', scheduled_value: 17500, reallocations: null, updated_budget: 17500, disbursed_to_date: 17500, this_draw: null, pecent_of_drawn: 100, balance_to_complete: 0},
            {description: 'Landscaping', scheduled_value: 30000, reallocations: null, updated_budget: 30000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 30000},
            {description: 'Footings & Foundation', scheduled_value: 150000, reallocations: null, updated_budget: 150000, disbursed_to_date: 144165, this_draw: null, pecent_of_drawn: 96.11, balance_to_complete: 5835},
            {description: 'Concrete Flatwork', scheduled_value: 42500, reallocations: null, updated_budget: 42500, disbursed_to_date: 13642.5, this_draw: null, pecent_of_drawn: 32.1, balance_to_complete: 28857.5},
            {description: 'Concrete Pumping', scheduled_value: 5000, reallocations: null, updated_budget: 5000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 5000},
            {description: 'Exterior Stone Veneer', scheduled_value: 165000, reallocations: -10000, updated_budget: 155000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 155000},
            {description: 'Structural Steel', scheduled_value: 55000, reallocations: null, updated_budget: 55000, disbursed_to_date: 52328.99, this_draw: 2139.01, pecent_of_drawn: 99.03, balance_to_complete: 532.00},
            {description: 'Decorative Metals', scheduled_value: 5000, reallocations: null, updated_budget: 5000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 5000},
            {description: 'Steel Stairs', scheduled_value: 24000, reallocations: -9000, updated_budget: 15000, disbursed_to_date: 1800, this_draw: null, pecent_of_drawn: 12, balance_to_complete: 13200},
            {description: 'Rough Framing Labor', scheduled_value: 96000, reallocations: null, updated_budget: 96000, disbursed_to_date: 94165, this_draw: null, pecent_of_drawn: 98.08, balance_to_complete: 1835},
            {description: 'Rough Framing Material', scheduled_value: 125000, reallocations: null, updated_budget: 125000, disbursed_to_date: 125000, this_draw: null, pecent_of_drawn: 100, balance_to_complete: 0},
            {description: 'Deck Surface Material', scheduled_value: 20000, reallocations: null, updated_budget: 20000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 20000},
            {description: 'Finish Carpentry', scheduled_value: 35000, reallocations: null, updated_budget: 35000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 35000},
            {description: 'Finish Material', scheduled_value: 15000, reallocations: null, updated_budget: 15000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 15000},
            {description: 'Cabinetry', scheduled_value: 85000, reallocations: null, updated_budget: 85000, disbursed_to_date: null, this_draw: 44543.5, pecent_of_drawn: 52.40, balance_to_complete: 40456.5},
            {description: 'Timber Material', scheduled_value: 12000, reallocations: null, updated_budget: 12000, disbursed_to_date: 1728.46, this_draw: null, pecent_of_drawn: 14.40, balance_to_complete: 10271.54},
            {description: 'Timber Labor', scheduled_value: 5000, reallocations: null, updated_budget: 5000, disbursed_to_date: 400, this_draw: null, pecent_of_drawn: 8, balance_to_complete: 4600},
            {description: 'Wood Valances for Blinds', scheduled_value: 9500, reallocations: null, updated_budget: 9500, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 9500},
            {description: 'Damp-proofing', scheduled_value: 15000, reallocations: null, updated_budget: 15000, disbursed_to_date: 8040, this_draw: null, pecent_of_drawn: 53.6, balance_to_complete: 6960},
            {description: 'Insulation', scheduled_value: 22000, reallocations: null, updated_budget: 22000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 22000},
            {description: 'Siding Labor', scheduled_value: 30000, reallocations: null, updated_budget: 30000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 30000},
            {description: 'Siding Material', scheduled_value: 40000, reallocations: null, updated_budget: 40000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 40000},
            {description: 'Roofing', scheduled_value: 67500, reallocations: null, updated_budget: 67500, disbursed_to_date: null, this_draw: 35000, pecent_of_drawn: 51.85, balance_to_complete: 32500},
            {description: 'Gutters & Downspouts', scheduled_value: 3000, reallocations: null, updated_budget: 3000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 3000},
            {description: 'Heat Tape', scheduled_value: 2500, reallocations: null, updated_budget: 2500, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 2500},
            {description: 'Chimney Caps', scheduled_value: 7000, reallocations: null, updated_budget: 7000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 7000},
            {description: 'Entry Door', scheduled_value: 13600, reallocations: null, updated_budget: 13600, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 13600},
            {description: 'Entry door Hardware', scheduled_value: 3000, reallocations: null, updated_budget: 3000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 3000},
            {description: 'Exterior Door Hardware  ', scheduled_value: 3000, reallocations: null, updated_budget: 3000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 3000},
            {description: 'Exterior Door Hardware Install', scheduled_value: 500, reallocations: null, updated_budget: 500, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 500},
            {description: 'Overhead Doors', scheduled_value: 13000, reallocations: null, updated_budget: 13000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 13000},
            {description: 'Windows & Exterior doors', scheduled_value: 65000, reallocations: null, updated_budget: 65000, disbursed_to_date: 26000, this_draw: 35985, pecent_of_drawn: 95.36, balance_to_complete: 3015},
            {description: 'Window & Door Installation', scheduled_value: 10000, reallocations: null, updated_budget: 10000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 10000},
            {description: 'Interior Doors', scheduled_value: 20000, reallocations: null, updated_budget: 20000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 20000},
            {description: 'Interior Door Hardware', scheduled_value: 8500, reallocations: null, updated_budget: 8500, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 8500},
            {description: 'Mirrors', scheduled_value: 4000, reallocations: null, updated_budget: 4000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 4000},
            {description: 'Shower Enclosures', scheduled_value: 22500, reallocations: null, updated_budget: 22500, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 22500},
            {description: 'Drywall', scheduled_value: 55000, reallocations: null, updated_budget: 55000, disbursed_to_date: 13000, this_draw: null, pecent_of_drawn: 23.63, balance_to_complete: 42000},
            {description: 'Tile / Stone', scheduled_value: 14000, reallocations: null, updated_budget: 14000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 14000},
            {description: 'Tile / Stone Labor', scheduled_value: 17500, reallocations: null, updated_budget: 17500, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 17500},
            {description: 'Tile / Stone Flooring', scheduled_value: 25000, reallocations: null, updated_budget: 25000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 25000},
            {description: 'Tile / Stone Flooring Labor', scheduled_value: 30000, reallocations: null, updated_budget: 30000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 30000},
            {description: 'Wood Flooring', scheduled_value: 30000, reallocations: null, updated_budget: 30000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 30000},
            {description: 'Wood Flooring Labor', scheduled_value: 15000, reallocations: null, updated_budget: 15000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 15000},
            {description: 'Wood Stairs', scheduled_value: 40000, reallocations: null, updated_budget: 40000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 40000},
            {description: 'Carpet', scheduled_value: 25000, reallocations: null, updated_budget: 25000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 25000},
            {description: 'Epoxy Floors', scheduled_value: 5500, reallocations: null, updated_budget: 5500, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 5500},
            {description: 'Interior Paint & Stain', scheduled_value: 75000, reallocations: null, updated_budget: 75000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 75000},
            {description: 'Exterior Paint & Stain', scheduled_value: 5000, reallocations: null, updated_budget: 5000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 5000},
            {description: 'Interior Railings', scheduled_value: 18000, reallocations: null, updated_budget: 18000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 18000},
            {description: 'Exterior Railings', scheduled_value: 17000, reallocations: null, updated_budget: 17000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 17000},
            {description: 'Counter Tops', scheduled_value: 50000, reallocations: -5000, updated_budget: 45000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 45000},
            {description: 'Closet Organizers', scheduled_value: 20000, reallocations: null, updated_budget: 20000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 20000},
            {description: 'Toilet & Bath Hardware', scheduled_value: 2500, reallocations: null, updated_budget: 2500, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 2500},
            {description: 'Gas Fireplaces', scheduled_value: 28000, reallocations: null, updated_budget: 28000, disbursed_to_date: 22512.6, this_draw: null, pecent_of_drawn: 80.40, balance_to_complete: 5487.4},
            {description: 'Appliances', scheduled_value: 45000, reallocations: null, updated_budget: 45000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 45000},
            {description: 'Appliances Installation', scheduled_value: 3500, reallocations: null, updated_budget: 3500, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 3500},
            {description: 'Central Vecuum', scheduled_value: 8000, reallocations: -8000, updated_budget: 0, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 0},
            {description: 'Blinds, Shades & Shutters', scheduled_value: 50000, reallocations: -13990, updated_budget: 36010, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 36010},
            {description: 'Live Roof', scheduled_value: 20000, reallocations: -5000, updated_budget: 15000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 15000},
            {description: 'Plumbing Labor', scheduled_value: 55000, reallocations: null, updated_budget: 55000, disbursed_to_date: 8000, this_draw: 8000, pecent_of_drawn: 29.09, balance_to_complete: 39000},
            {description: 'Plumbing Fixtures', scheduled_value: 35000, reallocations: null, updated_budget: 35000, disbursed_to_date: null, this_draw: 6568.73, pecent_of_drawn: 18.7678, balance_to_complete: 28431.27},
            {description: 'RO Water System', scheduled_value: 4000, reallocations: null, updated_budget: 4000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 4000},
            {description: 'Roof Drains', scheduled_value: 12000, reallocations: null, updated_budget: 12000, disbursed_to_date: 10000, this_draw: null, pecent_of_drawn: 83.33, balance_to_complete: 2000},
            {description: 'Fire Protection', scheduled_value: 25000, reallocations: -5000, updated_budget: 20000, disbursed_to_date: 13336.58, this_draw: 4445.53, pecent_of_drawn: 88.91055, balance_to_complete: 2217.89},
            {description: 'Radiant Heating', scheduled_value: 45000, reallocations: null, updated_budget: 45000, disbursed_to_date: null, this_draw: 4000, pecent_of_drawn: 8.88, balance_to_complete: 41000},
            {description: 'HVAC', scheduled_value: 85000, reallocations: -10000, updated_budget: 75000, disbursed_to_date: 51030, this_draw: 14580, pecent_of_drawn: 87.48, balance_to_complete: 9390},
            {description: 'Electrical', scheduled_value: 70000, reallocations: null, updated_budget: 70000, disbursed_to_date: 500, this_draw: null, pecent_of_drawn: 0.71, balance_to_complete: 69500},
            {description: 'Light Fixture Package', scheduled_value: 25000, reallocations: null, updated_budget: 25000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 25000},
            {description: 'Security System', scheduled_value: 2500, reallocations: null, updated_budget: 2500, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 2500},
            {description: 'Audio Video', scheduled_value: 70000, reallocations: -40000, updated_budget: 30000, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 30000},
            {description: 'Insurance', scheduled_value: 6500, reallocations: null, updated_budget: 6500, disbursed_to_date: 4147.07, this_draw: 1197, pecent_of_drawn: 82.21, balance_to_complete: 1155.93},
            {description: 'Consulting Fee', scheduled_value: 15000, reallocations: null, updated_budget: 15000, disbursed_to_date: 14875, this_draw: null, pecent_of_drawn: 99.16, balance_to_complete: 125},
            {description: 'Permits & Fees', scheduled_value: null, reallocations: 29166.38, updated_budget: 29166.38, disbursed_to_date: 29166.38, this_draw: null, pecent_of_drawn: 100, balance_to_complete: 0},
            {description: 'Architecture', scheduled_value: null, reallocations: 50000, updated_budget: 50000, disbursed_to_date: 34145.93, this_draw: null, pecent_of_drawn: 68.29186, balance_to_complete: 15854.07},
            {description: 'Builder Fee ', scheduled_value: 182413, reallocations: 0, updated_budget: 182413, disbursed_to_date: 52674.04, this_draw: 11858.58, pecent_of_drawn: 35.37, balance_to_complete: 117880.38},
            {description: 'Additional Soft Costs', scheduled_value: null, reallocations: 20000, updated_budget: 20000, disbursed_to_date: 20000, this_draw: null, pecent_of_drawn: 100, balance_to_complete: 0},
            {description: 'Contingency', scheduled_value: 97196, reallocations: -4506.73, updated_budget: 92689.27, disbursed_to_date: null, this_draw: null, pecent_of_drawn: 0, balance_to_complete: 92689.27},
        ];
    }]);
